@page "/motorsport"

@using SimTECH.Pages.Motorsport.Contracts;
@using SimTECH.Pages.Motorsport.Leagues;

@inject LeagueService _leagueService
@inject TyreService _tyreService
@inject BreadcrumbProvider _bread
@inject IDialogService _dialogService

<PageTitle>Motorsport</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-4">
    <MudStack Class="pa-0">
        <MudPaper Elevation="15" Height="75px" Class="d-flex flex-column justify-center align-center pa-4">
            <MudText Typo="Typo.h3">Motorsport</MudText>
        </MudPaper>
        <MudStack Row="true" Class="pa-0">
            <MudPaper Width="50%" Class="pa-2">
                <LeagueView @bind-SelectedLeagueId="ContractsOfLeagueId" />
            </MudPaper>
            @if (ContractsOfLeagueId != null)
            {
                <MudPaper Width="50%" Class="pa-2">
                    <ContractView LeagueId="@ContractsOfLeagueId.Value" />
                </MudPaper>
            }
        </MudStack>
    </MudStack>
</MudContainer>

@code {
    public long? ContractsOfLeagueId { get; set; }

    protected override void OnInitialized()
    {
        _bread.SetBreadcrumbs(new List<BreadcrumbItem>()
        {
            new BreadcrumbItem("Home", href: ""),
            new BreadcrumbItem("Motorsport", href: "motorsport", disabled: true),
        });
    }
}
