<MudContainer MaxWidth="MaxWidth.Medium">
    <MudPaper Elevation="15">
        <MudText Typo="Typo.body2" Color="Color.Info">Don't worry about the order of the numbers, these fix themselves on save</MudText>
        <MudForm>
            <MudTable T="EditSeasonDriverModel" Items="@Model.SeasonDrivers" Hover="true" Class="overflow-hider">
                <HeaderContent>
                    <MudTh>Name</MudTh>
                    <MudTh>Number</MudTh>
                    <MudTh>TeamRole</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd DataLabel="Name">
                        <MudStack Row="true" Spacing="1" AlignItems="AlignItems.Center">
                            <MudText>@context.Driver?.FullName</MudText>
                            <MudSpacer />
                            <CountryFlag Code="@context.Driver?.Country" Size="ElementSize.Small" />
                        </MudStack>
                    </MudTd>
                    <MudTd DataLabel="Number">
                        <MudText Typo="Typo.caption">@context.Number</MudText>
                    </MudTd>
                    <MudTd DataLabel="TeamRole">
                        <MudText>@context.TeamRole</MudText>
                    </MudTd>
                </RowTemplate>
                <RowEditingTemplate>
                    <MudTd DataLabel="Name">
                        <MudStack Row="true" Spacing="1" AlignItems="AlignItems.Center">
                            <MudText>@context.Driver?.FullName</MudText>
                            <MudSpacer />
                            <CountryFlag Code="@context.Driver?.Country" Size="ElementSize.Small" />
                        </MudStack>
                    </MudTd>
                    <MudTd DataLabel="Number">
                        <MudNumericField @bind-Value="@context.Number" />
                    </MudTd>
                    <MudTd DataLabel="TeamRole">
                        <MudSelect T="TeamRole" @bind-Value="@context.TeamRole">
                            @foreach (var select in TeamRoleEnumHelper.GetTeamRoleSelection)
                            {
                                <MudSelectItem Value="select.Key">@select.Value</MudSelectItem>
                            }
                        </MudSelect>
                    </MudTd>
                </RowEditingTemplate>
                <EditButtonContent Context="button">
                    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Outlined.Edit" Class="pa-0" OnClick="@button.ButtonAction" />
                </EditButtonContent>
            </MudTable>
        </MudForm>
    </MudPaper>
</MudContainer>

@code {
    [CascadingParameter] public AddEntrantsModel Model { get; set; }
}
