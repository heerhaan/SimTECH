@inject TeamService _teamService

<MudContainer MaxWidth="MaxWidth.Medium">
    <MudPaper Elevation="15">
        <MudTable T="Team" Items="@Teams" @bind-SelectedItems="@Model.BaseTeams" MultiSelection="true" Dense="true" Hover="true">
            <HeaderContent>
                <MudTh>Name</MudTh>
                <MudTh>Nation</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Name">
                    <MudText>@context.Name</MudText>
                </MudTd>
                <MudTd DataLabel="Nation">
                    <CountryNamedFlag Code="@context.Country" Reverse="true" />
                </MudTd>
            </RowTemplate>
        </MudTable>
    </MudPaper>
</MudContainer>

@code {
    [CascadingParameter]
    public AddEntrantsModel Model { get; set; }

    List<Team> Teams;

    protected override async Task OnInitializedAsync()
    {
        Teams = await _teamService.GetTeams();
    }
}
