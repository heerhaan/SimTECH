@inject BreadcrumbProvider _bread
@inject NavigationManager _nav
@implements IDisposable

@if (breadcrumbItems.Any())
{
    <MudBreadcrumbs Items="_bread.Breadcrumbs" />
}

@code {
    private List<BreadcrumbItem> breadcrumbItems { get; set; } = new();

    protected override void OnInitialized()
    {
        _bread.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        _bread.OnChange -= StateHasChanged;
    }

    /* Alt solution: determine from page uri
     * var breadCrumbs = new List<BreadcrumbItem>()
            {
            new BreadcrumbItem("Home", href: ""),
        };

        var path = _nav.Uri.Substring(_nav.BaseUri.Length);
        if (path.Contains("/"))
            {
            var pages = path.Split("/", StringSplitOptions.RemoveEmptyEntries);
            if (pages?.Any() == true)
                {
                foreach (var page in pages)
                {

            }
        }
    }*/
}
