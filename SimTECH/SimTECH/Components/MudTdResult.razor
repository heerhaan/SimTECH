<MudTd Class="result-cell" Style="@_cellStyles">
    <MudText Typo="@Typo">
        @_resultDisplay
        @if (_hasPole)
        {
            <sup>P</sup>
        }
        @if (_hasFastestLap)
        {
            <sup>F</sup>
        }
    </MudText>
</MudTd>

@code {
    [Parameter]
    public StandingResultCell Result { get; set; }

    [Parameter]
    public int LowestScoringPosition { get; set; }

    private Typo Typo { get; set; } = Typo.h4;

    protected override void OnInitialized()
    {
        if (Result.Status != RaceStatus.Racing)
            Typo = Typo.caption;
    }

    private string _resultDisplay
    {
        get
        {
            return Result.GetResultText();
        }
    }

    private bool _hasPole
    {
        get
        {
            return Result.Pole;
        }
    }

    private bool _hasFastestLap
    {
        get
        {
            // this is never calculated yet I believe
            return Result.FL;
        }
    }

    private string _cellStyles
    {
        get
        {
            var cellStyle = Result.GetResultStyle(LowestScoringPosition);

            return cellStyle;
        }
    }
}
